================================================================================
                    üìù GENERAL TO-DO
================================================================================

Last Updated: December 9, 2025

================================================================================
COMPLETED FEATURES ‚úÖ
================================================================================

[x] Smart contracts deployed on BNB Testnet
[x] Backend API with all core features
[x] Frontend with marketplace, dashboard, profiles
[x] SIWE authentication
[x] Signal purchase flow
[x] Rating system (permanent, 1-5 stars)
[x] Predictor profiles with edit capability
[x] Real-time uniqueness validation for profile fields
[x] Avatar URL security (SVG blocked, only JPG/PNG/GIF allowed)
[x] Admin Dashboard (earnings, verifications, reports, disputes, blacklisted)
[x] Verification approval/rejection for predictors with 100+ sales
[x] Report system (buyers can report purchased signals)
[x] Blacklist/Unblacklist predictors (from admin dashboard + predictor profile)
[x] Dispute system for blacklisted predictors
[x] Complete blacklist system overhaul (December 8, 2025)

================================================================================
PHASE 3: MISC FIXES & IMPROVEMENTS ‚úÖ COMPLETE (December 8, 2025)
================================================================================

[x] #1 Fix "You have already reported" ‚Üí "You have reported" message
[x] #2 Show "Login rejected" instead of verbose viem error on sign-in rejection
[x] #3 Verification: Require 100 sales AND $1000 USDT total earnings (not just sales)
[x] #4 Admin ability to manually verify any predictor regardless of sales
[x] #5 Frontend validation for referral address (must be existing predictor)
[x] #6 Fix purchase modal staying open after rate limit during purchase
[x] #7 Add referral earnings display to predictor dashboard
[x] #8 Admin can view predictor's total earnings on their profile
[x] #9 Set up Sentry for error tracking (frontend only - backend uses Pino logger)
[x] #10 UI/UX improvements (green theme consistency, verified badge on Predictors page)

================================================================================
PHASE 4: POLISH & FIXES ‚úÖ COMPLETE (December 9, 2025)
================================================================================

[x] #1 Signals page: Remove refund claims, mention sorting by rating/sales/verified
[x] #2 Footer: Update Discord/Twitter links, add Contact email
[x] #3 Terms and Conditions page (legal positioning as NFT marketplace)
[x] #4 Blacklisting discussion (smart contract vs web app) - USE SMART CONTRACT
[x] #5 Prohibit reserved display names (admin, moderator, signalfriend, etc.)
[x] #6 Maintenance page with RUNBOOK documentation

================================================================================
PHASE 5: ADMIN BLACKLIST VIA SMART CONTRACT ‚úÖ COMPLETE (December 9, 2025)
================================================================================

[x] Update admin blacklist button to call proposeBlacklist(address, true) on smart contract
[x] Update admin unblacklist button to call proposeBlacklist(address, false) on smart contract
[x] This creates a multisig proposal that requires 2 more signatures on BscScan
[x] Webhook will automatically sync the blacklist status to database when approved
[x] Fixed verification progress bar not showing incremental progress

================================================================================
NEXT PRIORITY: TESTING & POLISH
================================================================================

See detailed tasks in:
- /frontend/TO-DO-FRONTEND.txt (Phase 7: Polish & Optimization)
- /backend/TO-DO-BACKEND.txt (Phase 9: Testing)

Key Tasks:
1. Unit & integration tests for backend
2. Performance optimization (lazy loading, caching)
3. Mobile responsiveness improvements
4. SEO & meta tags

================================================================================
MANUAL TESTING CHECKLIST (Phase 4 Changes)
================================================================================

### Terms Page
[ ] Navigate to /terms - should show full Terms and Conditions
[ ] Click Terms link in footer - should navigate to /terms
[ ] Verify all 12 sections display correctly
[ ] Check contact links work (email, Discord, X)

### Footer
[ ] Terms link works
[ ] Contact opens email client
[ ] Discord opens correct invite
[ ] X opens correct profile

### Signals Page
[ ] Subtitle shows new text about sorting and smart contracts

### Reserved Display Names
[ ] Try setting display name to "admin" - should be rejected
[ ] Try setting display name to "signalfriend" - should be rejected
[ ] Try setting display name to "admin123" - should be rejected
[ ] Valid names should still work

### Maintenance Mode
[ ] Set VITE_MAINTENANCE_MODE=true in .env.local
[ ] Rebuild and verify maintenance page shows
[ ] Set VITE_MAINTENANCE_MODE=false and verify site works

================================================================================
NOTES
================================================================================

**Blacklisting Best Practice:**
- Always blacklist from SMART CONTRACT, not from web UI
- Smart contract blacklist blocks referral earnings AND syncs to database via webhook
- Web UI blacklist only updates database, not smart contract (incomplete)
- Use: cast send or BscScan to call proposeBlacklist(address, bool)

**Maintenance Mode:**
- Set VITE_MAINTENANCE_MODE=true in frontend/.env.local
- Optional: VITE_MAINTENANCE_MESSAGE and VITE_MAINTENANCE_END_TIME
- Rebuild frontend after changing env vars
[ ] Click "Verify Predictor" button ‚Üí predictor should become verified
[ ] Verify "Verified" badge appears on profile and in Predictors list
[ ] Click "Remove Verification" ‚Üí predictor should become unverified
[ ] Confirm verification button is orange/gold (primary variant)
[ ] Confirm blacklist button is red (danger variant)
[ ] Buttons should be side-by-side with proper spacing

### Admin Earnings Display
[ ] View any predictor's profile as admin
[ ] See "Admin Only - Earnings" card with green border
[ ] Shows: Total Earnings, From Sales, From Referrals, Platform Fee
[ ] Shows total sales revenue and count at bottom

### Admin Contact Info Display
[ ] View predictor's profile as admin
[ ] See "Admin Only - Contact Info" card with green border
[ ] Shows Telegram and Discord with "Preferred" badge

### Predictor Dashboard Referral Card
[ ] Log in as a predictor
[ ] See "Referral Earnings" card (always visible)
[ ] Card has green border theme (not pink/purple)
[ ] If no referrals: shows explanation message about earning $5 per referral
[ ] If has referrals: shows count and earnings

### Verification Progress Hidden for Verified
[ ] Log in as a verified predictor
[ ] Dashboard should NOT show "Verification Progress" card
[ ] Log in as unverified predictor
[ ] Dashboard SHOULD show "Verification Progress" card

### Referral Address Validation (Become Predictor Page)
[ ] Toggle "I have a referral code"
[ ] Enter invalid address format ‚Üí "Invalid address format. Please enter a valid wallet address (0x...)"
[ ] Enter valid address that's not a predictor ‚Üí "This address is not a registered predictor"
[ ] Enter valid predictor address ‚Üí No error, can proceed

### Verified Badge on Predictors Page
[ ] Go to /predictors page
[ ] Verified predictors show green "Verified" badge with checkmark icon
[ ] Badge matches the style on predictor profile pages

================================================================================
BUGS FIXED (December 8, 2025) ‚úÖ
================================================================================

BLACKLIST SYSTEM BUGS - ALL FIXED:
[x] #1 Blacklisted predictor signals filtered from marketplace
[x] #2 Signal detail page blocks purchase from blacklisted predictors
[x] #3 Purchase button disabled for blacklisted predictors
[x] #4 Blacklisted predictor profile shows warning banner
[x] #5 Dispute status resets when predictor is re-blacklisted
[x] #6 Correct error message for blacklisted predictor creating signal
[x] #14 Blacklisted predictor's signals hidden on their profile page
[x] #15 Edit Profile & Create Signal buttons disabled when blacklisted
[x] #16 Disputes auto-resolve when predictor is unblacklisted

ADMIN/SECURITY BUGS - ALL FIXED:
[x] #7 Admin contact info visible on predictor profiles
[x] #8 Admins cannot be blacklisted (prevented)
[x] #9 UI auto-refreshes after blacklist/unblacklist actions
[x] #10 Admin notes editable with "Save Notes" button

INPUT VALIDATION BUGS - ALL FIXED:
[x] #11 Signal name/description/content blocks URLs (real-time validation)
[x] #12 Report description blocks URLs (real-time validation)
[x] #13 Profile required fields clearly marked with asterisks
[x] #17 Reports auto-refresh in admin dashboard when created
[x] #18 Bio text properly wraps on predictor profile page

Previous bugs fixed:
- ‚úÖ Mobile Responsive Issues - Header now has hamburger menu, proper scaling
- ‚úÖ Predictors Page Search Filter - Can now clear/reset search properly
- ‚úÖ Wallet Address Copy - CopyableAddress component added throughout app
- ‚úÖ Admin Reports API - Response structure fixed

================================================================================
DEPLOYMENT CHECKLIST
================================================================================

[x] Admin system complete
[x] Blacklist system complete
[x] Phase 3 misc fixes complete
[ ] Full mobile responsive testing
[ ] Security audit
[ ] Performance testing
[ ] Docker configuration
[ ] Production environment setup
[ ] MongoDB Atlas migration
[ ] Domain and SSL setup
[ ] Enable Sentry error tracking (set VITE_SENTRY_DSN in frontend .env)