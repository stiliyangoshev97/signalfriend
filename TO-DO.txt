================================================================================
                    üìù GENERAL TO-DO
================================================================================

Last Updated: December 15, 2025

================================================================================
COMPLETED FEATURES ‚úÖ
================================================================================

[x] Smart contracts deployed on BNB Testnet
[x] üöÄ Smart contracts deployed on BSC Mainnet (December 15, 2025)
    - SignalFriendMarket: 0xaebec2cd5c2db4c0875de215515b3060a7a652fb
    - PredictorAccessPass: 0x198cd0549a0dba09aa3ab88e0b51ceb8dd335d07
    - SignalKeyNFT: 0x2a5f920133e584773ef4ac16260c2f954824491f
    - Treasury: 0x76e3363f7aF2e46DFdb4824FA143264E58884e1b
[x] Backend API with all core features
[x] Frontend with marketplace, dashboard, profiles
[x] SIWE authentication
[x] Signal purchase flow
[x] Rating system (permanent, 1-5 stars)
[x] Predictor profiles with edit capability
[x] Real-time uniqueness validation for profile fields
[x] Avatar URL security (SVG blocked, only JPG/PNG/GIF allowed)
[x] Admin Dashboard (earnings, verifications, reports, disputes, blacklisted)
[x] Verification approval/rejection for predictors with 100+ sales
[x] Report system (buyers can report purchased signals)
[x] Blacklist/Unblacklist predictors (from admin dashboard + predictor profile)
[x] Dispute system for blacklisted predictors
[x] Complete blacklist system overhaul (December 8, 2025)
[x] Filters & sorting improvements (December 10, 2025)
[x] Verification reapplication progress tracking (December 12, 2025)
[x] Security audit + CI/CD pipeline (December 13, 2025)
[x] Configurable social links via environment variables (December 13, 2025)

================================================================================
PHASE 3: MISC FIXES & IMPROVEMENTS ‚úÖ COMPLETE (December 8, 2025)
================================================================================

[x] #1 Fix "You have already reported" ‚Üí "You have reported" message
[x] #2 Show "Login rejected" instead of verbose viem error on sign-in rejection
[x] #3 Verification: Require 100 sales AND $1000 USDT total earnings (not just sales)
[x] #4 Admin ability to manually verify any predictor regardless of sales
[x] #5 Frontend validation for referral address (must be existing predictor)
[x] #6 Fix purchase modal staying open after rate limit during purchase
[x] #7 Add referral earnings display to predictor dashboard
[x] #8 Admin can view predictor's total earnings on their profile
[x] #9 Set up Sentry for error tracking (frontend only - backend uses Pino logger)
[x] #10 UI/UX improvements (green theme consistency, verified badge on Predictors page)

================================================================================
PHASE 4: POLISH & FIXES ‚úÖ COMPLETE (December 9, 2025)
================================================================================

[x] #1 Signals page: Remove refund claims, mention sorting by rating/sales/verified
[x] #2 Footer: Update Discord/Twitter links, add Contact email
[x] #3 Terms and Conditions page (legal positioning as NFT marketplace)
[x] #4 Blacklisting discussion (smart contract vs web app) - USE SMART CONTRACT
[x] #5 Prohibit reserved display names (admin, moderator, signalfriend, etc.)
[x] #6 Maintenance page with RUNBOOK documentation

================================================================================
PHASE 5: ADMIN BLACKLIST VIA SMART CONTRACT ‚úÖ COMPLETE (December 9, 2025)
================================================================================

[x] Update admin blacklist button to call proposeBlacklist(address, true) on smart contract
[x] Update admin unblacklist button to call proposeBlacklist(address, false) on smart contract
[x] This creates a multisig proposal that requires 2 more signatures on BscScan
[x] Webhook will automatically sync the blacklist status to database when approved
[x] Fixed verification progress bar not showing incremental progress

================================================================================
PHASE 6: FRONTEND VALIDATION & POLISH ‚úÖ COMPLETE (December 9, 2025)
================================================================================

[x] Frontend reserved display name validation (matches backend)
[x] Frontend reserved social handle validation (Twitter, Telegram, Discord)
[x] Avatar URL max length validation (500 chars)
[x] Change "Multisig" badge to "Admin" badge in AuthButton
[x] Bio text truncation fix (break-all for long unbroken strings)
[x] Documentation updates (RUNBOOK, README, changelogs)
[x] Sentry DSN configuration documented

================================================================================
PHASE 7: FILTERS & SORTING IMPROVEMENTS ‚úÖ COMPLETE (December 10, 2025)
================================================================================

[x] Filter predictors by verified status (Verified Only toggle)
[x] Compound sorting for predictors (intelligent tiebreakers when values equal)
[x] Smart signal sorting (quality-first default, respects explicit user selection)
[x] "Best Quality" sort option for signals (rating ‚Üí sales ‚Üí reviews ‚Üí date)
[x] Fix price sorting showing expensive signals first when "Low to High" selected

================================================================================
PHASE 8: PRODUCTION-READY RATE LIMITING ‚úÖ COMPLETE (December 10, 2025)
================================================================================

[x] Tiered rate limiting system (auth, read, write, critical)
[x] Auth nonce: 60 req/15min (supports wallet switching)
[x] Auth verify: 20 req/15min (prevents brute force)
[x] Read operations: 200 req/min (high frequency browsing)
[x] Write operations: 60 req/15min (data modification)
[x] Critical operations: 500 req/15min (purchases - never block revenue)
[x] IP + User hybrid tracking for authenticated requests
[x] Route-level rate limiting (signals, predictors, receipts, etc.)
[x] Webhooks excluded from rate limiting (protected by signature)
[x] Documentation updates (RUNBOOK, README, PROJECT_CONTEXT, CHANGELOG)

================================================================================
PHASE 9: MISC IMPROVEMENTS ‚úÖ COMPLETE (December 11, 2025)
================================================================================

[x] #1 Document database fork process in backend RUNBOOK.md + comment production values in .env
[x] #2 Add webhook timestamp validation + idempotency protection, verify no polling used
[x] #3 Skip Redis implementation (for later)
[x] #4 Verify .gitignore includes all sensitive files
[x] #5 Create rate limiting test scripts for all tiers + document in RUNBOOK
[x] #6 Create scripts to seed 100 and 500 test signals
[x] #7 Create news banner component + news page + document in frontend RUNBOOK
[x] #8 Audit both .env files for security
[x] #9 News display system with env variable control (merged with #7)
[x] #10 Skip Coinbase error (ad blocker blocking analytics - not our issue)
[x] #11 Skip sessions info (JWT only - already documented)
[x] #12 Create script to modify predictor sales/earnings for testing verification flow

================================================================================
PHASE 10: PRE-DEPLOYMENT TESTING ‚úÖ COMPLETE (December 12, 2025)
================================================================================

[x] Test rate limiting scripts (./scripts/test-rate-limits.sh) - PASSED ‚úÖ
    - Headers test: RateLimit-Limit, RateLimit-Remaining, RateLimit-Reset all present
    - Rate limiter correctly returns 429 when limit exceeded
[x] Use seed script to add 500 signals (npm run seed:signals:500) - PASSED ‚úÖ
    - 500 signals created successfully
    - Categories distributed across Crypto, Traditional Finance, Macro/Other
    - Signal counts updated for 26 predictors
[x] Use script to modify predictor stats for verification testing - PASSED ‚úÖ
    - Multiple predictors tested with various sales/earnings combinations
    - Mock receipts created successfully
    - Verification eligibility logic validated
[x] Test verification application flow - PASSED ‚úÖ
    - "Get Verified" button properly changes to "Verification Pending" badge
    - Admin sees verification requests in dashboard
[x] Test verification approval flow - PASSED ‚úÖ
    - Admin can approve verification requests
    - Predictor becomes verified, badge appears on profile
    - Verification progress card hidden after approval
[x] Test verification rejection flow - PASSED ‚úÖ
    - Admin can reject verification requests with reason
    - Predictor sees "Verification Rejected" card
    - Progress tracking shows incremental sales/earnings since rejection
[x] Test verification reapplication flow - PASSED ‚úÖ
    - Rejected predictors can reapply when meeting additional requirements
    - Progress bars correctly show: (current - baseline) / 50 sales and $500 earnings
    - "Reapply for Verification" button appears when eligible
    - Multiple rejection ‚Üí reapplication cycles tested successfully
[x] Bug fixes during testing - ALL FIXED ‚úÖ
    - Fixed CORS multiple origins parsing (parseOrigins utility)
    - Fixed rate limit values to production-ready levels
    - Fixed admin verification date display ("Invalid time value")
    - Fixed incomplete profile handling (optional chaining for social links)
    - Fixed rejection workflow bug (was calling verify endpoint)
    - Fixed "Get Verified" button state after application
[x] Documentation updates - COMPLETE ‚úÖ
    - Updated backend/frontend PROJECT_CONTEXT.md with v0.26.0/v0.15.0
    - Updated backend/frontend CHANGELOG.md with all bug fixes
    - Updated backend RUNBOOK.md with rate limit testing guide
    - Updated checkPredictorStats.ts script documentation

================================================================================
PHASE 11: IMPROVEMENTS & AUDITS ‚úÖ COMPLETE (December 13, 2025)
================================================================================

[x] Run seed script 5x to add 2500 signals for load testing
[x] Full security audit of backend/frontend (AUDIT.md created - 93/100 score)
[x] Mobile testing discussion (browser DevTools emulation confirmed valid)
[x] Create Dummy.txt for Vercel preview deployments
[x] Test rate limiting / DDoS protection (all endpoints verified)
[x] CI/CD pipeline for tests before merge (.github/workflows/ci.yml)
[x] JWT secret and 7-day expiry documentation
[x] SetupWebhooks.md updated with exact working GraphQL query
[x] News page updated (2024‚Üí2025, referral announcement added)
[x] How It Works section updated (added "Refer & Earn" step)
[x] Social links configurable via environment variables
    - VITE_DISCORD_URL, VITE_TWITTER_URL, VITE_CONTACT_EMAIL
    - Created frontend/src/shared/config/social.ts
    - Updated RootLayout, MaintenancePage, TermsPage

================================================================================
NEXT PRIORITY: TESTING & POLISH
================================================================================

See detailed tasks in:
- /frontend/TO-DO-FRONTEND.txt (Phase 7: Polish & Optimization)
- /backend/TO-DO-BACKEND.txt (Phase 9: Testing)

Key Tasks:
1. Unit & integration tests for backend ‚úÖ (290 tests passing)
2. Performance optimization (lazy loading, caching)
3. Mobile responsiveness improvements
4. SEO & meta tags ‚úÖ (v0.16.0 - useSEO hook, OG tags, Twitter cards)

================================================================================
MANUAL TESTING CHECKLIST (Phase 4 Changes)
================================================================================

### Terms Page
[ ] Navigate to /terms - should show full Terms and Conditions
[ ] Click Terms link in footer - should navigate to /terms
[ ] Verify all 12 sections display correctly
[ ] Check contact links work (email, Discord, X)

### Footer
[ ] Terms link works
[ ] Contact opens email client
[ ] Discord opens correct invite
[ ] X opens correct profile

### Signals Page
[ ] Subtitle shows new text about sorting and smart contracts

### Reserved Display Names
[ ] Try setting display name to "admin" - should be rejected
[ ] Try setting display name to "signalfriend" - should be rejected
[ ] Try setting display name to "admin123" - should be rejected
[ ] Valid names should still work

### Maintenance Mode
[ ] Set VITE_MAINTENANCE_MODE=true in .env.local
[ ] Rebuild and verify maintenance page shows
[ ] Set VITE_MAINTENANCE_MODE=false and verify site works

================================================================================
NOTES
================================================================================

**Blacklisting Best Practice:**
- Always blacklist from SMART CONTRACT, not from web UI
- Smart contract blacklist blocks referral earnings AND syncs to database via webhook
- Web UI blacklist only updates database, not smart contract (incomplete)
- Use: cast send or BscScan to call proposeBlacklist(address, bool)

**Maintenance Mode:**
- Set VITE_MAINTENANCE_MODE=true in frontend/.env.local
- Optional: VITE_MAINTENANCE_MESSAGE and VITE_MAINTENANCE_END_TIME
- Rebuild frontend after changing env vars
[ ] Click "Verify Predictor" button ‚Üí predictor should become verified
[ ] Verify "Verified" badge appears on profile and in Predictors list
[ ] Click "Remove Verification" ‚Üí predictor should become unverified
[ ] Confirm verification button is orange/gold (primary variant)
[ ] Confirm blacklist button is red (danger variant)
[ ] Buttons should be side-by-side with proper spacing

### Admin Earnings Display
[ ] View any predictor's profile as admin
[ ] See "Admin Only - Earnings" card with green border
[ ] Shows: Total Earnings, From Sales, From Referrals, Platform Fee
[ ] Shows total sales revenue and count at bottom

### Admin Contact Info Display
[ ] View predictor's profile as admin
[ ] See "Admin Only - Contact Info" card with green border
[ ] Shows Telegram and Discord with "Preferred" badge

### Predictor Dashboard Referral Card
[ ] Log in as a predictor
[ ] See "Referral Earnings" card (always visible)
[ ] Card has green border theme (not pink/purple)
[ ] If no referrals: shows explanation message about earning $5 per referral
[ ] If has referrals: shows count and earnings

### Verification Progress Hidden for Verified
[ ] Log in as a verified predictor
[ ] Dashboard should NOT show "Verification Progress" card
[ ] Log in as unverified predictor
[ ] Dashboard SHOULD show "Verification Progress" card

### Referral Address Validation (Become Predictor Page)
[ ] Toggle "I have a referral code"
[ ] Enter invalid address format ‚Üí "Invalid address format. Please enter a valid wallet address (0x...)"
[ ] Enter valid address that's not a predictor ‚Üí "This address is not a registered predictor"
[ ] Enter valid predictor address ‚Üí No error, can proceed

### Verified Badge on Predictors Page
[ ] Go to /predictors page
[ ] Verified predictors show green "Verified" badge with checkmark icon
[ ] Badge matches the style on predictor profile pages

================================================================================
BUGS FIXED (December 8, 2025) ‚úÖ
================================================================================

BLACKLIST SYSTEM BUGS - ALL FIXED:
[x] #1 Blacklisted predictor signals filtered from marketplace
[x] #2 Signal detail page blocks purchase from blacklisted predictors
[x] #3 Purchase button disabled for blacklisted predictors
[x] #4 Blacklisted predictor profile shows warning banner
[x] #5 Dispute status resets when predictor is re-blacklisted
[x] #6 Correct error message for blacklisted predictor creating signal
[x] #14 Blacklisted predictor's signals hidden on their profile page
[x] #15 Edit Profile & Create Signal buttons disabled when blacklisted
[x] #16 Disputes auto-resolve when predictor is unblacklisted

ADMIN/SECURITY BUGS - ALL FIXED:
[x] #7 Admin contact info visible on predictor profiles
[x] #8 Admins cannot be blacklisted (prevented)
[x] #9 UI auto-refreshes after blacklist/unblacklist actions
[x] #10 Admin notes editable with "Save Notes" button

INPUT VALIDATION BUGS - ALL FIXED:
[x] #11 Signal name/description/content blocks URLs (real-time validation)
[x] #12 Report description blocks URLs (real-time validation)
[x] #13 Profile required fields clearly marked with asterisks
[x] #17 Reports auto-refresh in admin dashboard when created
[x] #18 Bio text properly wraps on predictor profile page

Previous bugs fixed:
- ‚úÖ Mobile Responsive Issues - Header now has hamburger menu, proper scaling
- ‚úÖ Predictors Page Search Filter - Can now clear/reset search properly
- ‚úÖ Wallet Address Copy - CopyableAddress component added throughout app
- ‚úÖ Admin Reports API - Response structure fixed

================================================================================
DEPLOYMENT CHECKLIST
================================================================================

[x] Admin system complete
[x] Blacklist system complete
[x] Phase 3 misc fixes complete
[x] Security audit (AUDIT.md - 93/100 score, PRODUCTION READY)
[x] CI/CD pipeline (.github/workflows/ci.yml)
[x] Performance testing (2500+ signals load tested)
[x] Mobile responsive design complete

================================================================================
PHASE 12: PRODUCTION DEPLOYMENT üöÄ IN PROGRESS (December 17, 2025)
================================================================================

Deployment Guides Created:
[x] DEPLOYMENT_MONGODB_ATLAS.md - Complete MongoDB Atlas setup guide
[x] DEPLOYMENT_RENDER.md - Complete Render backend deployment guide
[x] DEPLOYMENT_VERCEL.md - Complete Vercel frontend deployment guide
[x] DEPLOYMENT_CHECKLIST.md - Master deployment checklist

Deployment Steps:
[ ] Step 1: MongoDB Atlas Setup (DEPLOYMENT_MONGODB_ATLAS.md)
    [ ] Create cluster (M0 or M10)
    [ ] Configure database user and network access
    [ ] Get connection string
    [ ] Test connection locally
    [ ] (Optional) Migrate existing data

[ ] Step 2: Render Backend Setup (DEPLOYMENT_RENDER.md)
    [ ] Create Render account and service
    [ ] Configure build/start commands
    [ ] Add all environment variables
    [ ] Deploy backend
    [ ] Set up custom domain (api.yourdomain.com)
    [ ] Configure Alchemy webhooks
    [ ] Test health endpoint

[ ] Step 3: Vercel Frontend Setup (DEPLOYMENT_VERCEL.md)
    [ ] Create Vercel account and import project
    [ ] Configure build settings
    [ ] Add all environment variables
    [ ] Deploy frontend
    [ ] Set up custom domain (yourdomain.com)
    [ ] Configure Cloudflare DNS and SSL
    [ ] Test frontend functionality

[ ] Step 4: Post-Deployment
    [ ] Update backend CORS with frontend domain
    [ ] Test full integration (frontend ‚Üí backend ‚Üí blockchain)
    [ ] Enable Sentry error tracking (optional)
    [ ] Verify webhooks working
    [ ] Mobile testing on real devices
    [ ] Final production smoke tests
    [ ] Monitor for 48 hours

See DEPLOYMENT_CHECKLIST.md for complete step-by-step instructions