# ============================================================================
# SignalFriend Backend Environment Configuration
# ============================================================================
# Copy this file to .env and update the values for your environment.
# Contract addresses are managed in src/contracts/addresses.ts
# ============================================================================

# Server
NODE_ENV=development
PORT=3001

# MongoDB
MONGODB_URI=mongodb://localhost:27017/signalfriend

# JWT (IMPORTANT: Change in production!)
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=7d

# ============================================================================
# Blockchain Configuration
# ============================================================================
# CHAIN_ID: 97 = BNB Testnet, 56 = BNB Mainnet
# Contract addresses are automatically selected based on CHAIN_ID
# See: src/contracts/addresses.ts
# ============================================================================
CHAIN_ID=97

# RPC URLs:
# - Testnet: https://bsc-testnet-rpc.publicnode.com
# - Mainnet: https://bsc-rpc.publicnode.com (or use your own node/Alchemy/Infura)
RPC_URL=https://bsc-testnet-rpc.publicnode.com

# Alchemy Webhook (for blockchain event indexing)
# Get this from: Alchemy Dashboard -> Webhooks -> Your Webhook -> Signing Key
ALCHEMY_SIGNING_KEY=your-alchemy-webhook-signing-key

# CORS
CORS_ORIGIN=http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# Business Rules
# ============================================================================
# MIN_SIGNAL_PRICE_USDT must match smart contract value
# To change: 1) Update contract via MultiSig  2) Update this value  3) Restart
# ============================================================================
MIN_SIGNAL_PRICE_USDT=5

# ============================================================================
# Admin Configuration
# ============================================================================
# Comma-separated list of MultiSig wallet addresses that have admin access.
# These wallets can: view any signal content, delete signals, blacklist predictors
# ============================================================================
ADMIN_ADDRESSES=0x4Cca77ba15B0D85d7B733E0838a429E7bEF42DD2,0xC119B9152afcC5f40C019aABd78A312d37C63926,0x6499fe8016cE2C2d3a21d08c3016345Edf3467F1

# ============================================================================
# Maintenance Mode
# ============================================================================
# Enable to block all API requests except /health (for deployments/updates)
# Before enabling:
#   1. Pause smart contracts on-chain via MultiSig (SignalFriendMarket.pause())
#   2. Set MAINTENANCE_MODE=true
#   3. Optionally set MAINTENANCE_END with ISO 8601 timestamp
#   4. Restart the server
# After maintenance:
#   1. Set MAINTENANCE_MODE=false
#   2. Restart the server
#   3. Unpause smart contracts via MultiSig (SignalFriendMarket.unpause())
# ============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_END=
